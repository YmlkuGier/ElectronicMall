{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport md5 from \"js-md5\";\nexport default {\n  name: \"Login\",\n  data: function data() {\n    return {\n      to: \"/\",\n      //登陆成功跳转的页面\n      user: {}\n    };\n  },\n  created: function created() {\n    this.to = this.$route.query.to ? this.$route.query.to : \"/\";\n  },\n  mounted: function mounted() {},\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      if (this.user.username === \"\" || this.user.password === \"\") {\n        this.$message.error(\"账号或密码不能为空\");\n        return false;\n      }\n\n      var form = {};\n      Object.assign(form, this.user);\n      form.password = md5(this.user.password);\n      this.request.post(\"/login\", form).then(function (res) {\n        if (res.code === \"200\") {\n          _this.$message.success({\n            message: \"登陆成功\",\n            showClose: true\n          });\n\n          _this.$router.push(_this.to);\n\n          localStorage.setItem(\"user\", JSON.stringify(res.data));\n        } else {\n          _this.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n\n        if (e.response == undefined || e.response.data == undefined) {\n          _this.$message({\n            showClose: true,\n            message: e,\n            type: \"error\",\n            duration: 5000\n          });\n        } else {\n          _this.$message({\n            showClose: true,\n            message: e.response.data,\n            type: \"error\",\n            duration: 5000\n          });\n        }\n      });\n    }\n  },\n  updated: function updated() {}\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AAEA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACAC,aADA;AACA;AACAC;AAFA;AAIA,GAPA;AAQAC,SARA,qBAQA;AACA;AACA,GAVA;AAWAC,SAXA,qBAWA,CAEA,CAbA;AAcAC;AACAC,YADA,sBACA;AAAA;;AACA;AACA;AACA;AACA;;AACA;AACAC;AACAC;AACA,mBACAC,IADA,CACA,QADA,EACAD,IADA,EAEAE,IAFA,CAEA;AACA;AACA;AACAC,2BADA;AAEAC;AAFA;;AAIA;;AACAC;AACA,SAPA,MAOA;AACA;AACA;AACA,OAbA,EAcAC,KAdA,CAcA;AACAC;;AACA,YACAC,2BACAA,4BAFA,EAGA;AACA;AACAJ,2BADA;AAEAD,sBAFA;AAGAM,yBAHA;AAIAC;AAJA;AAMA,SAVA,MAUA;AACA;AACAN,2BADA;AAEAD,oCAFA;AAGAM,yBAHA;AAIAC;AAJA;AAMA;AACA,OAlCA;AAmCA;AA5CA,GAdA;AA4DAC,SA5DA,qBA4DA,CAEA;AA9DA","names":["name","data","to","user","created","mounted","methods","onSubmit","Object","form","post","then","message","showClose","localStorage","catch","console","e","type","duration","updated"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<!--\r\n * @Description: \r\n * @Author: Rabbiter\r\n * @Date: 2023-03-26 15:27:05\r\n-->\r\n<template>\r\n    <div id=\"bk\" class=\"wrapper\">\r\n        <div class=\"login-box\">\r\n            <div class=\"title\">\r\n                <img\r\n                    src=\"@/resource/03.png\"\r\n                    style=\"\r\n                        width: 30px;\r\n                        height: 30px;\r\n                        margin: 0 5px -5px 0;\r\n                        -webkit-user-drag: none;\r\n                        -khtml-user-drag: none;\r\n                        -moz-user-drag: none;\r\n                        user-drag: none;\r\n                    \"\r\n                />\r\n                <b style=\"font-size: 28px\"> 登录在线商城 </b>\r\n            </div>\r\n            <div style=\"margin-top: 30px\">\r\n                <el-form label-width=\"70px\">\r\n                    <el-form-item label=\"用户名\">\r\n                        <el-input\r\n                            v-model.trim=\"user.username\"\r\n                            aria-required=\"true\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" style=\"margin-top: 25px\">\r\n                        <el-input\r\n                            v-model.trim=\"user.password\"\r\n                            show-password\r\n                            aria-required=\"true\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"text-align: center\">\r\n                        <el-button\r\n                            type=\"success\"\r\n                            class=\"customer\"\r\n                            @click=\"onSubmit\"\r\n                            style=\"font-size: 22px\"\r\n                        > 登录</el-button\r\n                        >\r\n                        <el-button\r\n                            @click=\"$router.push('/register')\"\r\n                            style=\"font-size: 22px\"\r\n                        > 注册</el-button\r\n                        >\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport md5 from \"js-md5\";\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            to: \"/\", //登陆成功跳转的页面\r\n            user: {},\r\n        };\r\n    },\r\n    created() {\r\n        this.to = this.$route.query.to ? this.$route.query.to : \"/\";\r\n    },\r\n    mounted() {\r\n        \r\n    },\r\n    methods: {\r\n        onSubmit() {\r\n            if (this.user.username === \"\" || this.user.password === \"\") {\r\n                this.$message.error(\"账号或密码不能为空\");\r\n                return false;\r\n            }\r\n            let form = {};\r\n            Object.assign(form, this.user);\r\n            form.password = md5(this.user.password);\r\n            this.request\r\n                .post(\"/login\", form)\r\n                .then((res) => {\r\n                    if (res.code === \"200\") {\r\n                        this.$message.success({\r\n                            message: \"登陆成功\",\r\n                            showClose: true,\r\n                        });\r\n                        this.$router.push(this.to);\r\n                        localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n                    } else {\r\n                        this.$message.error(res.msg);\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    console.log(e);\r\n                    if (\r\n                        e.response == undefined ||\r\n                        e.response.data == undefined\r\n                    ) {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e,\r\n                            type: \"error\",\r\n                            duration: 5000,\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: e.response.data,\r\n                            type: \"error\",\r\n                            duration: 5000,\r\n                        });\r\n                    }\r\n                });\r\n        },\r\n    },\r\n    updated() {\r\n        \r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n    height: 100vh;\r\n    background-color: rgb(161, 202, 220);\r\n    overflow: auto;\r\n}\r\n.login-box {\r\n    margin: 220px auto;\r\n    padding: 40px;\r\n    width: 450px;\r\n    height: 280px;\r\n    background-color: #ffffff;\r\n    border-radius: 10px;\r\n}\r\n.title {\r\n    text-align: center;\r\n    margin: 30px auto;\r\n    font-size: 25px;\r\n}\r\n\r\n#bk {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    overflow-y: auto;\r\n    height: 100%;\r\n    background: url(\"../resource/01.jpg\") center top / cover no-repeat;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}